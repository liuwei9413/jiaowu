webpackJsonp([17],{211:function(e,o,t){t(322);var s=t(73)(t(265),t(365),null,null);e.exports=s.exports},221:function(e,o,t){e.exports={default:t(222),__esModule:!0}},222:function(e,o,t){var s=t(10),n=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},265:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=t(221),n=t.n(s);Array.prototype.remove||(Array.prototype.remove=function(e){var o=this.indexOf(e);-1!==o&&this.splice(o,1)});var i=[{checked:!1,name:"一年级",disabled:!1,display:!0},{checked:!1,name:"二年级",disabled:!1,display:!0},{checked:!1,name:"三年级",disabled:!1,display:!0},{checked:!1,name:"四年级",disabled:!1,display:!0},{checked:!1,name:"五年级",disabled:!1,display:!0},{checked:!1,name:"六年级",disabled:!1,display:!0},{checked:!1,name:"初一",disabled:!1,display:!0},{checked:!1,name:"初二",disabled:!1,display:!0},{checked:!1,name:"初三",disabled:!1,display:!0},{checked:!1,name:"初四",disabled:!1,display:!1},{checked:!1,name:"高一",disabled:!1,display:!0},{checked:!1,name:"高二",disabled:!1,display:!0},{checked:!1,name:"高三",disabled:!1,display:!0}];o.default={name:"editSchoolInfoByEdu",data:function(){return{thisSchool:{id:"",type:""},fullscreenLoading:!0,isEditing:!1,dialogVisibleAdd:!1,dialogVisibleEdit:!1,schoolUsers:[],newSchoolUsers:[],schoolUserFormAdd:{name:"",phoneNumber:""},selectUserRow:{},schoolUserFormEdit:{name:"",phoneNumber:""},schoolUserAddOrEditRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{pattern:/^[\u4E00-\u9FA5]+$/,message:"用户名只能为中文",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个汉字",trigger:"blur"}],phoneNumber:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"请输入11位手机号",trigger:"blur"}]},value:"",oldSchoolInfo:{},schoolInfo:{name:"",schoolType:"",codeType:"",region:"",position:"",address:"",teacherCount:"",studentCount:"",codeStart:"",codeEnd:"",note:""},selectedGrad:[],codeTypes:[],codeTypeVal:0,selectEndCode:-1,selectStartCode:-1,province:[],city:[],county:[],selectedProvince:"",selectedCity:"",selectedCounty:"",schoolInfoRules:{},currentInfo:"",multipleSelection:[]}},mounted:function(){this.thisSchool.id=this.$route.params.id,this.thisSchool.type=this.$route.params.type,this.getSchoolDetail(),this.isEmptyData(this.thisSchool.type)||"edit"!==this.thisSchool.type||this.getAreaTree(),this.getSchoolUsers()},methods:{getQueryString:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},isEmptyData:function(e){return void 0===e||null===e||""===e},getSchoolDetail:function(){var e=this,o="/schadmin/getOneSchool?id="+this.thisSchool.id;this.isEmptyData(this.thisSchool.type)||"edit"!==this.thisSchool.type?this.isEditing=!1:(o="/eduadmin/updateOneSchoolShow?id="+this.thisSchool.id,this.isEditing=!0),this.$ajax(o).then(function(o){e.schoolInfo=o.data,e.oldSchoolInfo=o.data,e.fullscreenLoading=!1,e.initSelectGrad()})},getSchoolUsers:function(){var e=this,o="/eduadmin/updateOneSchoolShow?id="+this.thisSchool.id;this.$ajax(o).then(function(o){e.schoolUsers=o.data.fuserList||[]})},initSelectGrad:function(){"6-3"===this.schoolInfo.codeType?(this.codeTypeVal=0,this.grads[5].display=!0,this.grads[9].display=!1):(this.codeTypeVal=1,this.grads[5].display=!1,this.grads[9].display=!0),this.computeCodeRule(),this.initGradByCodeType(this)},editShowClick:function(){this.isEditing=!0},cancelSaveClick:function(){this.isEditing=!1,this.schoolInfo=this.oldSchoolInfo},saveSchoolInfo:function(){console.log(this.schoolInfo);var e={name:this.schoolInfo.name,schoolType:this.schoolInfo.schoolType,codeType:this.schoolInfo.codeType,region:this.schoolInfo.region,position:this.schoolInfo.position,address:this.schoolInfo.address,teacherCount:this.schoolInfo.teacherCount,studentCount:this.schoolInfo.studentCount,codeStart:this.schoolInfo.codeStart,codeEnd:this.schoolInfo.codeEnd,note:this.schoolInfo.note};console.log(e)},showAddDialog:function(){this.schoolUserFormAdd={},this.dialogVisibleAdd=!0},addSchoolUser:function(){var e=this;this.$refs.schoolUserFormAdd.validate(function(o){if(!o)return!1;var t={name:e.schoolUserFormAdd.name,phoneNumber:e.schoolUserFormAdd.phoneNumber,schoolId:e.schoolInfo.id};e.$ajax("/eduadmin/saveSchoolAdmin",t).then(function(o){200==o.code?(e.$message({type:"success",message:"添加成功!"}),e.dialogVisibleAdd=!1,e.getSchoolUsers()):(e.$message({type:"error",message:o.message}),e.dialogVisibleAdd=!1)})},this)},showEditDialog:function(e,o){this.schoolUserFormEdit.name=o.name,this.schoolUserFormEdit.phoneNumber=o.phoneNumber,this.dialogVisibleEdit=!0,this.selectUserRow=o},editSchoolUser:function(){var e=this;this.$refs.schoolUserFormEdit.validate(function(o){if(!o)return!1;var t={name:e.schoolUserFormEdit.name,phoneNumber:e.schoolUserFormEdit.phoneNumber,schoolId:e.schoolInfo.id,userId:e.selectUserRow.userId,id:e.selectUserRow.id};console.log(t),e.$ajax("/eduadmin/updateSchoolAdmin",t).then(function(o){200==o.code?(e.$message({type:"success",message:"修改成功!"}),e.dialogVisibleEdit=!1,e.getSchoolUsers()):(e.$message({type:"error",message:o.message}),e.dialogVisibleEdit=!1)})},this)},resetLoginPwd:function(e,o){var t=this;this.$confirm("确定重置密码为手机号码后六位?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.fullscreenLoading=!0;var e={phoneNumber:o.phoneNumber};t.$ajax("/password/reset",e).then(function(e){t.fullscreenLoading=!1,200==e.code&&t.$message({message:"重置成功",type:"success"})})}).catch(function(){})},changeSchoolUserStatus:function(e){this.currentInfo.id;this.$message({message:"状态修改功能后台待开发",type:"success"})},delSchoolUser:function(e,o){var t=this;this.$confirm("确定要删除选中负责人吗?","提示",{type:"warning",confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(){var e={userId:o.userId,schoolId:t.schoolInfo.id};t.$ajax("/eduadmin/deleteSchoolAdmin",e).then(function(e){200==e.code?(t.$message({message:"删除成功",type:"success"}),t.getSchoolUsers()):t.$message({type:"error",message:e.message})})}).catch(function(){})},delMoreSchoolUser:function(e,o){this.$message({message:"批量删除接口联调未成功",type:"success"})},initGradByCodeType:function(){for(var e=0;e<this.grads.length;e++)e>=this.schoolInfo.codeStart-1&&e<=this.schoolInfo.codeEnd-1?(this.grads[e].checked=!0,this.grads[e].disabled=!1,this.selectedGrad.push(e),this.codeTypes.push(this.grads[e].name)):(this.grads[e].disabled=!0,this.grads[e].checked=!1)},changeSchoolType:function(){!this.schoolInfo.schoolType||this.schoolInfo.schoolType<3||this.schoolInfo.schoolType>8?this.schoolInfo.codeType="":this.isEmptyData(this.schoolInfo.codeType)&&this.schoolInfo.schoolType>=3&&this.schoolInfo.schoolType<=8&&(this.schoolInfo.codeType="6-3"),this.changeSchooling()},computeCodeRule:function(e){var o=this.schoolInfo.schoolType;6==o||8==o?"6-3"===e?(this.selectEndCode=5,this.selectStartCode=0):(this.selectEndCode=4,this.selectStartCode=0):3==o?"6-3"===e?(this.selectEndCode=8,this.selectStartCode=6):(this.selectEndCode=9,this.selectStartCode=6):5==o?(this.selectEndCode=9,this.selectStartCode=0):2==o||9==o?(this.selectEndCode=12,this.selectStartCode=10):4==o?(this.selectEndCode=12,this.selectStartCode=6):(this.selectEndCode=0,this.selectStartCode=12)},resetGradByCodeType:function(e){var o=-1,t=-1;if(6==e.schoolInfo.schoolType||8==e.schoolInfo.schoolType?"5-4"===this.schoolInfo.codeType?(e.schoolInfo.codeEnd=5,e.schoolInfo.codeStart=1,o=0,t=4):"6-3"===this.schoolInfo.codeType&&(e.schoolInfo.codeEnd=6,e.schoolInfo.codeStart=1,o=0,t=5):3==e.schoolInfo.schoolType?"6-3"==e.schoolInfo.codeType?(e.schoolInfo.codeStart=7,e.schoolInfo.codeEnd=9,o=6,t=8):"6-3"===this.schoolInfo.codeType&&(e.schoolInfo.codeStart=6,e.schoolInfo.codeEnd=9,o=6,t=9):5==e.schoolInfo.schoolType?""!=e.schoolInfo.codeType&&(e.schoolInfo.codeStart=1,e.schoolInfo.codeEnd=9,o=0,t=9):4==e.schoolInfo.schoolType?"5-4"===this.schoolInfo.codeType?(e.schoolInfo.codeStart=6,e.schoolInfo.codeEnd=12,o=6,t=12):"6-3"===this.schoolInfo.codeType&&(e.schoolInfo.codeStart=7,e.schoolInfo.codeEnd=12,o=6,t=12):2!=e.schoolInfo.schoolType&&9!=e.schoolInfo.schoolType&&10!=e.schoolInfo.schoolType||""!=e.schoolInfo.codeType&&(e.schoolInfo.codeStart=10,e.schoolInfo.codeEnd=12,o=10,t=12),e.selectedGrad=[],e.codeTypes=[],-1!==o&&-1!==t)for(var s=0;s<e.grads.length;s++)s>=o&&s<=t?(e.grads[s].checked=!0,e.grads[s].disabled=!1,e.selectedGrad.push(s),e.codeTypes.push(e.grads[s].name)):(e.grads[s].checked=!1,e.grads[s].disabled=!0)},changeSchooling:function(){var e=this.schoolInfo.codeType||"",o=i;this.selectedGrad=[],this.codeTypes=[],"6-3"===e?(o[5].display=!0,o[9].display=!1):(o[5].display=!1,o[9].display=!0),this.grads=o,this.schoolInfo.codeStart=-1,this.schoolInfo.codeEnd=-1,this.computeCodeRule(),this.resetGradByCodeType(this)},changeGrad:function(e){console.log(e)},getAreaTree:function(){var e=this;this.$ajax("/org/getTree").then(function(o){e.province=o.data}).catch(function(){})},provinceChange:function(e){var o=this;this.selectedProvince=e;var t={parentId:this.selectedProvince};this.$ajax("/org/getChildren",t).then(function(e){o.city=e.data}).catch(function(){})},cityChange:function(e){var o=this;this.selectedCity=e;var t={parentId:this.selectedCity};this.$ajax("/org/getChildren",t).then(function(e){o.county=e.data}).catch(function(){})},countyChange:function(e){this.selectedCounty=e},getThisRowInfo:function(e){this.currentInfo=e},getSelectedUsersId:function(e){this.multipleSelection=e}},created:function(){this.grads=JSON.parse(n()(i))},watch:{searchText:function(e){this.$refs.orgLists.filter(e)}}}},284:function(e,o,t){o=e.exports=t(182)(),o.push([e.i,".admin{height:100%;padding-left:20px;text-align:left;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.menus{width:200px;border:1px solid #20a0ff}.menus-head{background:#20a0ff;color:#fff;padding:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.menus-head .title{font-size:14px}.menus-head .add-btn{color:#fff;border:1px solid #fff;font-size:12px;padding:2px}.seach-bar{padding:10px}.seach-bar input{height:30px;width:100%;border:1px solid #20a0ff}.main-content{padding-top:11px;width:984px}.el-tabs__active-bar{top:0}.el-tree-node.is-current{color:#20a0ff}.tabs-header{margin-bottom:10px}.text-left{text-align:left}.text-right{text-align:right}.space-between{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.space-around,.space-between{display:-webkit-box;display:-ms-flexbox;display:flex}.space-around{-ms-flex-pack:distribute;justify-content:space-around}.tabs-header .editor{padding:10px;display:block}.edit .el-select,.edit .item-text{display:none}.edit.editing .item-text{margin-top:10px;display:block;width:200px}.edit.editing .el-select{display:inline-block}.edit.editing p{display:none}.pagination{margin-top:30px}b{font-weight:400}.grads li{list-style:none;float:left;margin-right:10px}.grads label{border:1px solid #add8e6;width:50px;text-align:center;display:inline-block;cursor:pointer}.grads li label.disabled{background:#d3d3d3;color:#000;cursor:not-allowed}.grads li label.checked{background:#add8e6;color:#fff}.blind{clip:rect(1px,1px,1px,1px);clip:rect(1px 1px 1px 1px);position:absolute}.space-between{line-height:50px;float:right;margin-left:20px}.el-table{width:800px;margin:0 auto}.principal-top span{display:inline-block}.principal-top{width:984px;height:50px;line-height:50px;border-bottom:1px solid #e9edf1;margin-bottom:16px}.tabs-body .el-form-item__content{line-height:36px;position:relative;font-size:14px}.tabs-body .el-checkbox{border:1px solid #e5e5e5;padding:2px 5px;line-height:30px;-webkit-transition:.2s;transition:.2s;width:44px;text-align:center}.tabs-body .el-checkbox__inner{display:none}.tabs-body .el-checkbox__label{padding-left:0}.tabs-body .el-checkbox:hover{border-color:#ccc}.tabs-body .ischecked{border-color:#20a0ff!important;color:#20a0ff!important}.tabs-body .el-checkbox+.el-checkbox{margin-left:10px}.tabs-body .el-form-item{margin-bottom:10px}","",{version:3,sources:["E:/works/platform/yitai-educational/src/main/webapp/src/pages/front/schoolRollFiler/schoolrollfilerschoolmanagement.vue"],names:[],mappings:"AACA,OACI,YAAa,AACb,kBAAmB,AACnB,gBAAiB,AACjB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,6BAA+B,CAC1C,AACD,OACI,YAAa,AACb,wBAA0B,CAC7B,AACD,YACI,mBAAoB,AACpB,WAAY,AACZ,aAAc,AACd,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,6BAA+B,CAC1C,AACD,mBACI,cAAgB,CACnB,AACD,qBACI,WAAW,AACX,sBAAuB,AACvB,eAAgB,AAChB,WAAa,CAChB,AACD,WACI,YAAc,CACjB,AACD,iBACI,YAAa,AACb,WAAY,AACZ,wBAA0B,CAC7B,AACD,cACI,iBAAkB,AAClB,WAAa,CAChB,AAOD,qBACI,KAAO,CACV,AACD,yBACI,aAAe,CAClB,AACD,aAEI,kBAAoB,CACvB,AACD,WACI,eAAiB,CACpB,AACD,YACI,gBAAkB,CACrB,AACD,eAII,yBAA0B,AACtB,sBAAuB,AACnB,6BAA+B,CAC1C,AACD,6BAPI,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CAWjB,AAND,cAII,yBAA0B,AACtB,4BAA8B,CACrC,AACD,qBACI,aAAc,AACd,aAAe,CAClB,AAUD,kCACI,YAAc,CAEjB,AACD,yBACI,gBAAiB,AACjB,cAAc,AACd,WAAa,CAChB,AACD,yBACI,oBAAsB,CACzB,AACD,gBACI,YAAc,CACjB,AACD,YACI,eAAiB,CACpB,AACD,EACI,eAAoB,CACvB,AACD,UAAU,gBAAgB,WAAW,iBAAiB,CACrD,AACD,aAAa,yBAA2B,WAAW,kBAAkB,qBAAqB,cAAc,CACvG,AACD,yBAAyB,mBAAqB,WAAW,kBAAkB,CAC1E,AACD,wBAAwB,mBAAqB,UAAU,CACtD,AACD,OACI,2BAA4B,AAC5B,2BAA4B,AAC5B,iBAAmB,CACtB,AAOD,eACI,iBAAkB,AAClB,YAAa,AACjB,gBAAkB,CACjB,AACD,UAAU,YAAa,aAAe,CACrC,AACD,oBAAoB,oBAAsB,CACzC,AACD,eAAe,YAAY,YAAY,iBAAkB,AAAG,gCAAiC,kBAAmB,CAC/G,AACD,kCACI,iBAAkB,AAClB,kBAAmB,AACnB,cAAgB,CACnB,AACD,wBACI,yBAA0B,AAC1B,gBAAiB,AACjB,iBAAkB,AAClB,uBAAyB,AACzB,eAAiB,AACjB,WAAY,AACZ,iBAAmB,CACtB,AACD,+BAAgC,YAAc,CAC7C,AACD,+BACI,cAAgB,CACnB,AACD,8BAAiC,iBAAmB,CACnD,AACD,sBAAwB,+BAAgC,AAAC,uBAAyB,CACjF,AACD,qCACI,gBAAkB,CACrB,AACD,yBAA4B,kBAAoB,CAC/C",file:"schoolrollfilerschoolmanagement.vue",sourcesContent:["\n.admin{\n    height: 100%;\n    padding-left: 20px;\n    text-align: left;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.menus{\n    width: 200px;\n    border: 1px solid #20A0FF;\n}\n.menus-head{\n    background: #20A0FF;\n    color: #fff;\n    padding: 10px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.menus-head .title{\n    font-size: 14px;\n}\n.menus-head .add-btn{\n    color:#fff;\n    border: 1px solid #fff;\n    font-size: 12px;\n    padding: 2px;\n}\n.seach-bar{\n    padding: 10px;\n}\n.seach-bar input{\n    height: 30px;\n    width: 100%;\n    border: 1px solid #20A0FF;\n}\n.main-content{\n    padding-top: 11px;\n    width: 984px;\n}\n  /* .tabs .el-tabs--border-card>.el-tabs__header .el-tabs__item{\n    border-top: 3px solid;\n  }\n  .tabs .el-tabs--border-card>.el-tabs__header .el-tabs__item.is-active{\n    border-top: 3px solid;\n  } */\n.el-tabs__active-bar{\n    top: 0;\n}\n.el-tree-node.is-current{\n    color: #20A0FF;\n}\n.tabs-header{\n\n    margin-bottom: 10px;\n}\n.text-left {\n    text-align: left;\n}\n.text-right {\n    text-align: right;\n}\n.space-between{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.space-around{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: distribute;\n        justify-content: space-around;\n}\n.tabs-header .editor{\n    padding: 10px;\n    display: block;\n}\n\n  /* .el-form-item.is-required .el-form-item__label:before{\n    content: '•';\n    color: #999;\n  } */\n.edit .item-text{\n    display: none;\n    /* display: inline-block; */\n}\n.edit .el-select{\n    display: none;\n    /* display: inline-block; */\n}\n.edit.editing .item-text{\n    margin-top: 10px;\n    display:block;\n    width: 200px;\n}\n.edit.editing .el-select{\n    display: inline-block;\n}\n.edit.editing p{\n    display: none;\n}\n.pagination{\n    margin-top: 30px;\n}\nb{\n    font-weight: normal;\n}\n.grads li{list-style:none;float:left;margin-right:10px\n}\n.grads label{border:1px solid lightblue;width:50px;text-align:center;display:inline-block;cursor:pointer\n}\n.grads li label.disabled{background:lightgray;color:#000;cursor:not-allowed\n}\n.grads li label.checked{background:lightblue;color:#fff\n}\n.blind{\n    clip: rect(1px,1px,1px,1px);\n    clip: rect(1px 1px 1px 1px);\n    position: absolute;\n}\n /* .el-select .el-input .el-input__icon{\n    right:420px;\n  }*/\n\n\n  /*负责人样式*/\n.space-between{\n    line-height: 50px;\n    float: right;\nmargin-left: 20px;\n}\n.el-table{width: 800px;margin: 0 auto;\n}\n.principal-top span{display: inline-block;\n}\n.principal-top{width:984px;height:50px;line-height: 50px;   border-bottom: 1px solid #e9edf1;margin-bottom:16px;\n}\n.tabs-body .el-form-item__content {\n    line-height: 36px;\n    position: relative;\n    font-size: 14px;\n}\n.tabs-body .el-checkbox {\n    border: 1px solid #e5e5e5;\n    padding: 2px 5px;\n    line-height: 30px;\n    -webkit-transition: 0.2s;\n    transition: 0.2s;\n    width: 44px;\n    text-align: center;\n}\n.tabs-body .el-checkbox__inner{ display: none;\n}\n.tabs-body .el-checkbox__label {\n    padding-left: 0;\n}\n.tabs-body  .el-checkbox:hover { border-color: #ccc;\n}\n.tabs-body .ischecked { border-color: #20A0FF!important; color: #20A0FF!important;\n}\n.tabs-body  .el-checkbox+.el-checkbox {\n    margin-left: 10px;\n}\n.tabs-body  .el-form-item { margin-bottom: 10px;\n}\n"],sourceRoot:""}])},322:function(e,o,t){var s=t(284);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);t(183)("017caf96",s,!0)},365:function(e,o){e.exports={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"admin",attrs:{id:"editSchoolInfoByEdu"}},[t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"main-content"},[t("div",{staticClass:"tabs-header text-right"},[e.isEditing?e._e():t("el-row",[t("el-col",{attrs:{span:2}},[t("router-link",{staticClass:"link-text",attrs:{to:{path:"/eduSchoolManagement"}}},[t("i",{staticClass:"el-icon-arrow-left"}),e._v("返回")])],1),e._v(" "),t("el-col",{attrs:{span:22}})],1),e._v(" "),e.isEditing?t("el-button",{attrs:{type:"success",icon:"edit"},on:{click:e.cancelSaveClick}},[e._v("取消")]):e._e(),e._v(" "),e.isEditing?t("el-button",{attrs:{type:"success",icon:"edit"},on:{click:e.saveSchoolInfo}},[e._v("保存")]):e._e()],1),e._v(" "),t("div",{staticClass:"tabs"},[t("div",{attrs:{label:"学校信息列表"}},[t("div",{staticClass:"tabs-body"},[t("el-form",{ref:"form",staticClass:"edit",class:[{editing:e.isEditing}],attrs:{model:e.schoolInfo,rules:e.schoolInfoRules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"学校名称：",prop:"name"}},[t("el-input",{staticClass:"item-text",model:{value:e.schoolInfo.name,callback:function(o){e.schoolInfo.name=o},expression:"schoolInfo.name"}}),e._v(" "),t("p",[e._v(" "+e._s(e.schoolInfo.name)+" ")])],1),e._v(" "),t("el-form-item",{attrs:{label:"所属机构：",prop:"id"}},[t("span",[e._v(" "+e._s(e.schoolInfo.eduOrganPojo.name)+" ")])]),e._v(" "),t("el-form-item",{attrs:{label:"学校类型：",prop:"schoolType"}},[t("el-select",{attrs:{name:"schoolType",id:"schoolInfo.schoolType"},on:{change:e.changeSchoolType},model:{value:e.schoolInfo.schoolType,callback:function(o){e.schoolInfo.schoolType=o},expression:"schoolInfo.schoolType"}},[t("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),t("el-option",{attrs:{label:"高中",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"初中",value:"3"}}),e._v(" "),t("el-option",{attrs:{label:"完中",value:"4"}}),e._v(" "),t("el-option",{attrs:{label:"九年一贯制",value:"5"}}),e._v(" "),t("el-option",{attrs:{label:"小学",value:"6"}}),e._v(" "),t("el-option",{attrs:{label:"完小",value:"8"}}),e._v(" "),t("el-option",{attrs:{label:"职业高中(职高)",value:"9"}}),e._v(" "),t("el-option",{attrs:{label:"中等专业学校(中专)",value:"10"}})],1),e._v(" "),2==e.schoolInfo.schoolType?t("p",[e._v("高中")]):e._e(),e._v(" "),3==e.schoolInfo.schoolType?t("p",[e._v("初中")]):e._e(),e._v(" "),4==e.schoolInfo.schoolType?t("p",[e._v("完中")]):e._e(),e._v(" "),5==e.schoolInfo.schoolType?t("p",[e._v("九年一贯制")]):e._e(),e._v(" "),6==e.schoolInfo.schoolType?t("p",[e._v("小学")]):e._e(),e._v(" "),8==e.schoolInfo.schoolType?t("p",[e._v("完小")]):e._e(),e._v(" "),9==e.schoolInfo.schoolType?t("p",[e._v("职业高中(职高)")]):e._e(),e._v(" "),10==e.schoolInfo.schoolType?t("p",[e._v("中等专业学校(中专)")]):e._e()],1),e._v(" "),t("el-form-item",{attrs:{label:"学制：",prop:"codeType"}},[t("el-select",{attrs:{name:"codeType",id:"schoolInfo.codeType",disabled:!e.schoolInfo.schoolType||e.schoolInfo.schoolType<3||e.schoolInfo.schoolType>8,value:!e.schoolInfo.schoolType||e.schoolInfo.schoolType<3||e.schoolInfo.schoolType>8?"":e.schoolInfo.codeType},on:{change:e.changeSchooling},model:{value:e.schoolInfo.codeType,callback:function(o){e.schoolInfo.codeType=o},expression:"schoolInfo.codeType"}},[t("el-option",{attrs:{value:""}},[e._v("请选择")]),e._v(" "),t("el-option",{attrs:{label:"六三制",value:"6-3"}},[e._v("六三制")]),e._v(" "),t("el-option",{attrs:{label:"五四制",value:"5-4"}},[e._v("五四制")])],1),e._v(" "),"6-3"==e.schoolInfo.codeType?t("p",[e._v("六三制")]):e._e(),e._v(" "),"5-4"==e.schoolInfo.codeType?t("p",[e._v("五四制")]):e._e()],1),e._v(" "),t("el-form-item",{attrs:{label:"教学范围："}},[t("el-checkbox-group",{model:{value:e.codeTypes,callback:function(o){e.codeTypes=o},expression:"codeTypes"}},e._l(e.grads,function(o,s){return t("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:1==o.display,expression:"grad.display == true"}],key:o.name,class:{ischecked:e.codeTypes.indexOf(o.name)>=0},attrs:{label:o.name,id:"grad"+s},on:{click:function(t){e.changeGrad(o,s)}}},[e._v(e._s(o.name))])}))],1),e._v(" "),t("el-form-item",{attrs:{label:"所在地址：",prop:"address"}},[t("el-select",{staticClass:"item-text",attrs:{placeholder:"请选择省"},on:{change:e.provinceChange},model:{value:e.selectedProvince,callback:function(o){e.selectedProvince=o},expression:"selectedProvince"}},e._l(e.province,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),0!=e.city.length?t("el-select",{staticClass:"item-text",attrs:{placeholder:"请选择市"},on:{change:e.cityChange},model:{value:e.selectedCity,callback:function(o){e.selectedCity=o},expression:"selectedCity"}},e._l(e.city,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})):e._e(),e._v(" "),0!=e.county.length?t("el-select",{staticClass:"item-text",attrs:{placeholder:"请选择区/县"},on:{change:e.countyChange},model:{value:e.selectedCounty,callback:function(o){e.selectedCounty=o},expression:"selectedCounty"}},e._l(e.county,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})):e._e(),e._v(" "),t("div",{staticClass:"item-text"},[t("el-input",{attrs:{type:"textarea"},model:{value:e.schoolInfo.address,callback:function(o){e.schoolInfo.address=o},expression:"schoolInfo.address"}})],1),e._v(" "),t("p",[e._v(" "+e._s(e.schoolInfo.address)+" ")])],1),e._v(" "),t("el-form-item",{attrs:{label:"地理位置：",prop:"position"}},[t("el-select",{attrs:{placeholder:"请选择地理位置"},model:{value:e.schoolInfo.position,callback:function(o){e.schoolInfo.position=o},expression:"schoolInfo.position"}},[t("el-option",{attrs:{label:"中学城区",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"城乡结合",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"近郊",value:"3"}}),e._v(" "),t("el-option",{attrs:{label:"远郊",value:"4"}}),e._v(" "),t("el-option",{attrs:{label:"山区",value:"5"}})],1),e._v(" "),1==e.schoolInfo.position?t("p",[e._v("中学城区")]):e._e(),e._v(" "),2==e.schoolInfo.position?t("p",[e._v("城乡结合")]):e._e(),e._v(" "),3==e.schoolInfo.position?t("p",[e._v("近郊")]):e._e(),e._v(" "),4==e.schoolInfo.position?t("p",[e._v("远郊")]):e._e(),e._v(" "),5==e.schoolInfo.position?t("p",[e._v("山区")]):e._e()],1),e._v(" "),t("el-form-item",{attrs:{label:"教师数量：",prop:"teacherCount"}},[t("span",[e._v(" "+e._s(e.schoolInfo.teacherCount)+" ")])]),e._v(" "),t("el-form-item",{attrs:{label:"学生数量：",prop:"studentCount"}},[t("span",[e._v(" "+e._s(e.schoolInfo.studentCount)+" ")])]),e._v(" "),t("el-form-item",{attrs:{label:"描述：",prop:"note"}},[t("el-input",{staticClass:"item-text",attrs:{type:"textarea",prop:"note"},model:{value:e.schoolInfo.note,callback:function(o){e.schoolInfo.note=o},expression:"schoolInfo.note"}}),e._v(" "),t("p",[e._v(" "+e._s(e.schoolInfo.note)+" ")])],1)],1)],1)]),e._v(" "),t("div",{staticClass:"principal-layout"},[t("div",{staticClass:"principal-top"},[t("span",[e._v("负责人信息")]),e._v(" "),e.isEditing?t("div",{staticClass:"tabs-header space-between"},[t("el-button",{attrs:{type:"success",icon:"plus"},on:{click:function(o){e.showAddDialog()}}},[e._v("新建人员")]),e._v(" "),t("el-button",{attrs:{type:"danger",icon:"delete2"},on:{click:function(o){e.delMoreSchoolUser()}}},[e._v("批量删除")])],1):e._e()]),e._v(" "),t("div",{staticClass:"tables-body"},[t("el-table",{attrs:{data:e.schoolUsers,border:"","tooltip-effect":"dark"},on:{"cell-click":e.getThisRowInfo,"selection-change":e.getSelectedUsersId}},[e.isEditing?t("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"150"}},[e.isEditing?t("div",{scopedSlots:e._u([["default",function(o){return[t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.changeSchoolUserStatus}},[t("span",{staticClass:"el-dropdown-link"},[0==o.row.status?t("b",[e._v("正常")]):t("b",[e._v("禁用")]),e._v(" "),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),t("el-dropdown-menu",{slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"1"}},[e._v("禁用")]),e._v(" "),t("el-dropdown-item",{attrs:{command:"0"}},[e._v("正常")])],1)],1)]}]])}):e._e()]),e._v(" "),e.isEditing?t("el-table-column",{attrs:{label:"操作",width:"320"},scopedSlots:e._u([["default",function(o){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showEditDialog(o.$index,o.row)}}},[e._v("编辑")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.resetLoginPwd(o.$index,o.row)}}},[e._v("重置密码")]),e._v(" "),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.delSchoolUser(o.$index,o.row)}}},[e._v("删除")])]}]])}):e._e()],1),e._v(" "),t("div",{staticClass:"pagination text-right"}),e._v(" "),t("el-dialog",{attrs:{title:"新增负责人信息","close-on-click-modal":!1,size:"tiny"},model:{value:e.dialogVisibleAdd,callback:function(o){e.dialogVisibleAdd=o},expression:"dialogVisibleAdd"}},[t("el-form",{ref:"schoolUserFormAdd",attrs:{model:e.schoolUserFormAdd,rules:e.schoolUserAddOrEditRules,"label-width":"90px"}},[t("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[t("el-input",{model:{value:e.schoolUserFormAdd.name,callback:function(o){e.schoolUserFormAdd.name="string"==typeof o?o.trim():o},expression:"schoolUserFormAdd.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号：",prop:"phoneNumber"}},[t("el-input",{model:{value:e.schoolUserFormAdd.phoneNumber,callback:function(o){e.schoolUserFormAdd.phoneNumber="string"==typeof o?o.trim():o},expression:"schoolUserFormAdd.phoneNumber"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",slot:"footer"},[t("el-button",{attrs:{type:"info"},on:{click:function(o){e.dialogVisibleAdd=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"success"},on:{click:function(o){e.addSchoolUser()}}},[e._v("添 加")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"编辑负责人信息","close-on-click-modal":!1,size:"tiny"},model:{value:e.dialogVisibleEdit,callback:function(o){e.dialogVisibleEdit=o},expression:"dialogVisibleEdit"}},[t("el-form",{ref:"schoolUserFormEdit",attrs:{model:e.schoolUserFormEdit,rules:e.schoolUserAddOrEditRules,"label-width":"90px"}},[t("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[t("el-input",{model:{value:e.schoolUserFormEdit.name,callback:function(o){e.schoolUserFormEdit.name="string"==typeof o?o.trim():o},expression:"schoolUserFormEdit.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号：",prop:"phoneNumber"}},[t("el-input",{model:{value:e.schoolUserFormEdit.phoneNumber,callback:function(o){e.schoolUserFormEdit.phoneNumber="string"==typeof o?o.trim():o},expression:"schoolUserFormEdit.phoneNumber"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",slot:"footer"},[t("el-button",{attrs:{type:"info"},on:{click:function(o){e.dialogVisibleEdit=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"success"},on:{click:function(o){e.editSchoolUser()}}},[e._v("保 存")])],1)],1)],1)])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=17.b770602728747cd19deb.js.map