webpackJsonp([5],{191:function(e,t,o){o(375);var i=o(73)(o(261),o(439),null,null);e.exports=i.exports},224:function(e,t,o){e.exports={default:o(225),__esModule:!0}},225:function(e,t,o){var i=o(10),a=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},227:function(e,t,o){e.exports={default:o(228),__esModule:!0}},228:function(e,t,o){o(232),e.exports=o(10).Object.assign},229:function(e,t,o){"use strict";var i=o(74),a=o(230),n=o(231),r=o(75),l=o(76),s=Object.assign;e.exports=!s||o(37)(function(){var e={},t={},o=Symbol(),i="abcdefghijklmnopqrst";return e[o]=7,i.split("").forEach(function(e){t[e]=e}),7!=s({},e)[o]||Object.keys(s({},t)).join("")!=i})?function(e,t){for(var o=r(e),s=arguments.length,d=1,c=a.f,u=n.f;s>d;)for(var h,p=l(arguments[d++]),m=c?i(p).concat(c(p)):i(p),g=m.length,f=0;g>f;)u.call(p,h=m[f++])&&(o[h]=p[h]);return o}:s},230:function(e,t){t.f=Object.getOwnPropertySymbols},231:function(e,t){t.f={}.propertyIsEnumerable},232:function(e,t,o){var i=o(36);i(i.S+i.F,"Object",{assign:o(229)})},239:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ElIcon",props:{name:String}}},248:function(e,t,o){var i=o(73)(o(239),o(251),null,null);e.exports=i.exports},251:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("i",{class:"el-icon-"+e.name})},staticRenderFns:[]}},261:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(227),a=o.n(i),n=o(224),r=o.n(n),l=o(248),s=o.n(l);Array.prototype.remove||(Array.prototype.remove=function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)});var d=[{checked:!1,name:"一年级",display:!0},{checked:!1,name:"二年级",display:!0},{checked:!1,name:"三年级",display:!0},{checked:!1,name:"四年级",display:!0},{checked:!1,name:"五年级",display:!0},{checked:!1,name:"六年级",display:!0},{checked:!1,name:"初一",display:!0},{checked:!1,name:"初二",display:!0},{checked:!1,name:"初三",display:!0},{checked:!1,name:"初四",display:!1},{checked:!1,name:"高一",display:!0},{checked:!1,name:"高二",display:!0},{checked:!1,name:"高三",display:!0}];t.default={components:{ElIcon:s.a},data:function(){var e=/select|update|delete|truncate|join|union|exec|insert|drop|count|script|src|alert|window|document|location|>|<|%/i,t=function(t,o,i){null==o||""==o?i(new Error("学校名称不能为空！")):o.length>30?i(new Error("最多可输入30个字！")):e.test(o)?i(new Error("输入中不能包含特殊字符！")):i()},o=function(t,o,i){null==o||""==o?i(new Error("姓名不能为空！")):o.length<2?i(new Error("姓名输入在2~40个字！")):o.length>40?i(new Error("姓名输入在2~40个字！")):e.test(o)?i(new Error("输入中不能包含特殊字符！")):i()},i=function(t,o,i){null==o||""==o?i():o.length>50?i(new Error("最多可输入50个字！")):e.test(o)?i(new Error("输入中不能包含特殊字符！")):i()},a=function(t,o,i){null==o||""==o?i():o.length>200?i(new Error("最多可输入200个字！")):e.test(o)?i(new Error("输入中不能包含特殊字符！")):i()};return{userInfo:"",orgListsData:[],orgNameStr:[],educationIds:[],orgName:"",grads:"",selectedGrad:[],codeVal:"",indexStart:"",indexEnd:"",ruleForm:{orgId:"",name:"",schoolType:"",codeType:"",codeStart:"",codeEnd:"",position:"",address:"",describe:""},schoolId:"",isSaveSchool:!1,defaultMaxLevel:0,defaultProvince:{id:"",name:"",level:1},defaultCity:{id:"",name:"",level:2},defaultCounty:{id:"",name:"",level:3},province:[],city:[],county:[],selectedProvince:{},selectedCity:{},selectedCounty:{},isAdd:!1,rules:{name:[{required:!0,validator:t,trigger:"blur"}],schoolType:[{required:!0,message:"学校类型不能为空！",trigger:"change"}],codeVal:[],position:[{required:!0,message:"地理位置不能为空！",trigger:"change"}],address:[{validator:i,trigger:"blur"}],describe:[{validator:a,trigger:"blur"}]},orgUsers:[],orgUserTotal:0,orgUserFormAdd:{name:"",phone:""},currentInfo:"",orgUserStutas:"",principalId:"",orgUserFormEdit:{name:"",phone:""},orgUserAddRules:{name:{validator:o,trigger:"blur"},phone:[{required:!0,message:"手机号不能为空！",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"请输入11位手机号！",trigger:"blur"}]},dialogVisibleAdd:!1,dialogVisibleEdit:!1,multipleSelection:[],formInline:{query:""}}},beforeMount:function(){this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.defaultMaxLevel=this.userInfo.education.orgInfo.length,this.defaultProvince=this.userInfo.education.orgInfo[0]||{id:"",name:"",level:1},this.defaultCity=this.userInfo.education.orgInfo[1]||{id:"",name:"",level:2},this.defaultCounty=this.userInfo.education.orgInfo[2]||{id:"",name:"",level:3}},mounted:function(){this.getAreaTree(),null!=this.defaultProvince.id&&""!=this.defaultProvince.id&&this.provinceChange(this.defaultProvince),null!=this.defaultCity.id&&""!=this.defaultCity.id&&this.cityChange(this.defaultCity)},methods:{isEmptyData:function(e){return void 0===e||null===e||""===e},convertSchoolType:function(e){return["","大学","高中","初中","完中","九年一贯制","小学","教学点","完小","职业高中(职高)","中等专业学校(中专)","技工学校(技校)","普通高等学校(体校、军校)"][e||0]||""},convertCodeType:function(e){return"6-3"==e?"六三制":"5-4"==e?"五四制":""},convertGrads:function(e){for(var t="",o=0;o<e.length;o++){var i=e[o];1==i.checked&&(t+=""==t?i.name:"、"+i.name)}return t},convertPosition:function(e){return["","中学城区","城乡结合","近郊","远郊","山区"][e||0]||""},toEduSchoolMgr:function(){var e=this;if(this.isSaveSchool)this.$router.go(-1);else{var t=this.isEmptyData(this.ruleForm.name),o=this.isEmptyData(this.ruleForm.schoolType),i=this.isEmptyData(this.codeVal),a=this.isEmptyData(this.ruleForm.codeStart),n=this.isEmptyData(this.ruleForm.codeEnd),r=this.isEmptyData(this.ruleForm.position),l=this.isEmptyData(this.ruleForm.address),s=this.isEmptyData(this.ruleForm.describe);console.log("返回当前： name="+this.ruleForm.name+",schoolType="+this.ruleForm.schoolType+",codeVal="+this.codeVal+",codeStart="+this.ruleForm.codeStart+",codeEnd="+this.ruleForm.codeEnd+",position="+this.ruleForm.position+",address="+this.ruleForm.address+",describe="+this.ruleForm.describe);var d=this.getSaveOrgId().id,c=this.userInfo.education.orgInfo[this.userInfo.education.orgInfo.length-1].id;console.log("pageOrgId= "+d+",userOrgId="+c);var u=d==c;console.log(u);var h=[u,t,o,i,a,n,r,l,s];console.log(h),-1!=h.indexOf(!1)?(console.log("结果中包含非空数据，进行了修改"),this.$confirm("当前界面存在编辑操作是否保存？","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){e.submitForm()}).catch(function(){e.$router.go(-1)})):(console.log("结果中都是空数据，未进行任何更改"),this.$router.go(-1))}},getEduOrgTree:function(){var e=this,t=this.userInfo.education.educationId||"";this.$ajax("/eduadmin/getEduChildrenTree?parentEducationId="+t).then(function(t){if(200==t.code){var o=r()(t.data);o=o.replace(/name/g,"label").replace(/id/g,"value").replace(/childrens/g,"children").replace(/\,\"children\"\:\[\]/g,""),o="["+o+"]",console.log(o),e.orgListsData=JSON.parse(o)}else e.orgListsData=[{}];console.log(e.orgListsData)}).catch(function(){})},getEduOrgByName:function(e){var t=this;if(null==e||""==e)return void(this.orgNameStr="");this.$ajax("/eduadmin/getEduChildrenTree?parentEducationId="+e).then(function(e){200==e.code?t.orgNameStr=e.data.name||"":t.orgNameStr=""}).catch(function(){t.orgNameStr=""})},getAreaTree:function(){var e=this;this.$ajax("/org/getTree").then(function(t){e.province=t.data}).catch(function(){})},provinceChange:function(e){var t=this;if(console.log("province======"+e.id+","+e.name),this.selectedCity={},this.selectedCounty={},this.selectedProvince=e,null!=e.id&&""!=e.id){var o={parentId:e.id};this.$ajax("/org/getChildren",o).then(function(e){t.city=e.data,1==t.defaultMaxLevel&&(t.defaultCity.name=t.city[0].name)}).catch(function(){})}},cityChange:function(e){var t=this;if(console.log("city======"+e.id+","+e.name),this.selectedCounty={},this.selectedCity=e,null!=e.id&&""!=e.id){var o={parentId:e.id};this.$ajax("/org/getChildren",o).then(function(e){t.county=e.data,2==t.defaultMaxLevel&&(t.defaultCounty.name=t.county[0].name)}).catch(function(){})}},countyChange:function(e){console.log("county======"+e.id+","+e.name),this.selectedCounty=e},changeSchoolType:function(){var e=this;(!e.ruleForm.schoolType||e.ruleForm.schoolType>8||2==e.ruleForm.schoolType)&&(e.codeVal=""),e.changeSchooling()},changeSchooling:function(){var e=this;if(e.grads=JSON.parse(r()(d)),e.selectedGrad=[],e.ruleForm.schoolType){e.ruleForm.codeStart=1,e.indexStart=0,2==e.codeVal?(e.grads[5].display=!1,e.grads[9].display=!0):(e.grads[5].display=!0,e.grads[9].display=!1),6!=e.ruleForm.schoolType&&8!=e.ruleForm.schoolType||(e.ruleForm.codeEnd=7-(Number(e.codeVal)||1),e.indexEnd=6-(Number(e.codeVal)||1)),3!=e.ruleForm.schoolType&&5!=e.ruleForm.schoolType||(3==e.ruleForm.schoolType&&(2==e.codeVal?(e.ruleForm.codeStart=6,e.indexStart=6):(e.ruleForm.codeStart=7,e.indexStart=6)),e.ruleForm.codeEnd=9,e.indexEnd=9),-1!=[2,4,9,10].indexOf(Number(e.ruleForm.schoolType)||0)&&(4==e.ruleForm.schoolType&&1==e.codeVal?(e.ruleForm.codeStart=7,e.indexStart=6):4==e.ruleForm.schoolType&&2==e.codeVal?(e.ruleForm.codeStart=6,e.indexStart=6):4==e.ruleForm.schoolType&&2!=e.codeVal&&1!=e.codeVal?(e.ruleForm.codeStart=7,e.indexStart=6):(e.ruleForm.codeStart=10,e.indexStart=10),e.ruleForm.codeEnd=12,e.indexEnd=12);for(var t=e.indexStart;t<=e.indexEnd;t++)2==e.codeVal&&5==t||1==e.codeVal&&9==t||(e.grads[t].checked=!0,e.selectedGrad.push(t))}},changeGrad:function(e,t){var o=this;t.currentTarget.checked?(o.selectedGrad.push(e),o.grads[e].checked=!0):(o.selectedGrad.remove(e),o.grads[e].checked=!1);for(var i=Math.min.apply(Math,o.selectedGrad),a=Math.max.apply(Math,o.selectedGrad),n=i;n<=a;n++)!o.grads[n].checked&&o.grads[n].display&&(o.grads[n].checked=!0)},getSaveOrgId:function(){var e={id:"",name:"",orgNameStr:""};if(3==this.defaultMaxLevel)e.id=this.defaultCounty.id,e.name=this.defaultCounty.name,e.orgNameStr=this.defaultProvince.name+""+this.defaultCity.name+this.defaultCounty.name;else if(2==this.defaultMaxLevel){var t=this.defaultProvince.name+""+this.defaultCity.name;e.id=this.selectedCounty.id,e.name=this.selectedCounty.name,e.orgNameStr=t+""+this.selectedCounty.name,null!=this.selectedCounty.name&&""!=this.selectedCounty.name&&"市直属"!=this.selectedCounty.name||(e.id=this.defaultCity.id,e.name=this.defaultCounty.name,e.orgNameStr=t+""+this.defaultCounty.name)}else if(1==this.defaultMaxLevel){var o=this.defaultProvince.name;null!=this.selectedCounty.name&&""!=this.selectedCounty.name&&"市直属"!=this.selectedCounty.name?(e.id=this.selectedCounty.id,e.name=this.selectedCounty.name):null!=this.selectedCity.name&&""!=this.selectedCity.name&&"省直属"!=this.selectedCity.name&&"市直属"!=this.selectedCity.name?(e.id=this.selectedCity.id,e.name=this.selectedCity.name):(e.id=this.defaultProvince.id,e.name=this.defaultProvince.name),e.orgNameStr=o+""+(this.selectedCity.name||this.defaultCity.name)+(this.selectedCounty.name||this.defaultCounty.name)}return e},setScrollTop:function(e){var t=navigator.userAgent,o=t.indexOf("Opera")>-1,i="";o?i="Opera":t.indexOf("Firefox")>-1?i="FF":t.indexOf("Chrome")>-1?i="Chrome":t.indexOf("Safari")>-1?i="Safari":t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1&&!o&&(i="IE"),"FF"==i?document.documentElement.scrollTop=e.offsetTop:document.body.scrollTop=e.offsetTop},submitForm:function(e){var t=this;this.ruleForm.codeType=1==this.codeVal?"6-3":2==this.codeVal?"5-4":"";var o=this.getSaveOrgId(),i=a()(this.ruleForm,{delFlag:0},{orgId:o.id}),n=this;this.$refs.ruleForm.validate(function(e){return e?!n.isEmptyData(n.ruleForm.schoolType)&&2!=n.ruleForm.schoolType&&n.ruleForm.schoolType<=8&&(""==n.codeVal||null==n.codeVal)?void t.$message({type:"error",message:"学制不能为空!"}):void t.$ajax("/eduadmin/saveOneSchool",i).then(function(e){200==e.code?(t.schoolId=e.data,t.buildGrade(),t.$alert("保存成功","提示",{confirmButtonText:"确定",type:"success",callback:function(e){n.isAdd=!0,n.isSaveSchool=!0,n.orgNameStr=o.orgNameStr;var i=n.$el.querySelector("#userListDiv");t.setScrollTop(i)}})):t.$alert("保存失败："+e.message,"提示",{confirmButtonText:"确定",type:"warning",callback:function(e){n.isAdd=!1}})}):(t.$message({type:"error",message:"请先填写相关信息!"}),!1)})},buildGrade:function(e){this.$ajax("/schadmin/buildGrade",{schoolId:this.schoolId}).then(function(e){})},getOrgUserLists:function(e){var t=this;this.$ajax("/schadmin/justShowSchadmin",{id:this.schoolId}).then(function(e){200==e.code&&(t.orgUsers=e.data,t.orgUserTotal=t.orgUsers.length)})},addOrgUser:function(){this.orgUserFormAdd={},this.dialogVisibleAdd=!0},orgUserFormAddData:function(){var e=this;this.$refs.orgUserFormAdd.validate(function(t){if(!t)return!1;var o={schoolId:e.schoolId,name:e.orgUserFormAdd.name,phoneNumber:e.orgUserFormAdd.phone||""};console.log(o),e.$ajax("/eduadmin/saveSchoolAdmin",o).then(function(t){200==t.code?(e.$message({type:"success",message:"添加成功!"}),e.dialogVisibleAdd=!1,e.getOrgUserLists(e.schoolId)):(e.$message({type:"error",message:t.message}),e.dialogVisibleAdd=!1)})})},orgUsersEdit:function(e,t){this.dialogVisibleEdit=!0,this.orgUserFormEdit.name=t.name,this.orgUserFormEdit.phone=t.phone,this.principalId=t.id,console.log(this.principalId)},orgUserFormEditData:function(){var e=this,t={schoolId:this.schoolId,userId:this.currentInfo.id,name:this.orgUserFormEdit.name,id:this.principalId};this.$ajax("/eduadmin/updateSchoolAdmin",t).then(function(t){200==t.code&&(e.$message({message:"保存成功",type:"success"}),e.getOrgUserLists(e.schoolId),e.dialogVisibleEdit=!1)}).catch(function(){})},getOrgUserCurrentInfo:function(e,t,o,i){this.currentInfo=e},getOrgUserSelectState:function(e){var t=this,o={orgId:this.orgInfoId,userId:this.currentInfo.id,state:e};this.$ajax("/eduadmin/changeOrgUserStatus",o).then(function(e){200==e.code&&(t.$message({message:"状态修改成功",type:"success"}),t.getOrgUserLists(t.orgInfoId))}).catch(function(){})},orgUsersDelete:function(e,t){var o=this;console.log(e,t),this.$confirm("确定要删除选中教师吗?","提示",{type:"warning",confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(){var e={userId:t.id,schoolId:o.schoolId};o.$ajax("/eduadmin/deleteSchoolAdmin",e).then(function(e){200==e.code&&o.$message({message:"删除成功",type:"success"}),o.getOrgUserLists(o.orgInfoId)})}).catch(function(){})},orgUsersSelectionChange:function(e){this.multipleSelection=e},orgUsersRestPwd:function(e,t){var o=this;this.$confirm("是否要重置密码为手机号码后六位?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var e={phone:t.phone};o.$ajax("/password/reset",e).then(function(e){200==e.code&&o.$alert(e.message,"新密码",{confirmButtonText:"确定"})})}).catch(function(){})},orgUsersBatchDelete:function(e,t){var o=this,i=this.multipleSelection.map(function(e){return e.id}).toString();this.$confirm("确定要删除选中教师吗?","提示",{type:"warning",confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(){var e={userId:i,orgId:o.orgInfoId};o.$ajax("/eduadmin/delOrgUser",e).then(function(e){200==e.code&&o.$message({message:"删除成功",type:"success"}),o.getOrgUserLists(o.orgInfoId)})}).catch(function(){})}},created:function(){this.grads=JSON.parse(r()(d))},resetForm:function(e){this.$refs[e].resetFields()}}},331:function(e,t,o){t=e.exports=o(183)(),t.push([e.i,"#addschool{padding:0 20px 50px}#addschool .btns{border-bottom:1px solid #ecedef;padding-bottom:10px;padding-top:10px;height:30px;line-height:30px}#addschool .btns a{font-size:14px;color:#666;line-height:30px}.icon-back:before{position:relative;top:1px}#addschool .icon-conserve:before{margin-right:3px}#addschool .el-button{padding:8px 20px}.el-table table{width:100%}#addschool .title{padding:20px 0 18px;display:inline-block;width:100%}#addschool .title i{display:inline-block;height:16px;width:3px;margin-right:7px;background:#0d9ee9}#addschool .title span{font-size:14px;display:inline-block;line-height:12px}#addschool .tabs-header{float:right}#addschool .submitForm{text-align:right;height:50px;border-bottom:1px solid #e9edf1}#addschool .submitForm .el-button--primary{margin-top:8px;margin-bottom:0}#addschool .item-text .address{margin-top:22px;height:40px;display:block}.el-input__icon{right:13px}.el-textarea__inner{height:60px;width:600px}#addschool .el-button--info{width:40px;float:right;text-align:center}#addschool .grads li{list-style:none;float:left;margin-right:10px}#addschool .grads label{border:1px solid #add8e6;width:50px;text-align:center;display:inline-block;cursor:pointer}#addschool .grads li label.disabled{background:#d3d3d3;color:#000;cursor:not-allowed}#addschool .grads li label.checked{background:#add8e6;color:#fff}#addschool .blind{clip:rect(1px,1px,1px,1px);clip:rect(1px 1px 1px 1px);position:absolute}#addschool a,button,input,keygen,select,textarea{font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input.is-disabled .el-input__inner::-webkit-input-placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input.is-disabled .el-input__inner:-ms-input-placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input.is-disabled .el-input__inner::placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input__inner::-webkit-input-placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input__inner:-ms-input-placeholder{color:#1f2d3d}#addschool .el-input__inner::placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}","",{version:3,sources:["E:/works/platform/yitai-educational/src/main/webapp/src/pages/front/education/addschool.vue"],names:[],mappings:"AACA,WACI,mBAA0B,CAC7B,AAED,iBACI,gCAAiC,AACjC,oBAAqB,AACrB,iBAAiB,AACjB,YAAa,AACb,gBAAkB,CACrB,AACD,mBACI,eAAgB,AAChB,WAAY,AACZ,gBAAkB,CACrB,AACD,kBACI,kBAAmB,AACnB,OAAQ,CACX,AACD,iCACI,gBAAkB,CACrB,AACD,sBACI,gBAAkB,CACrB,AAGD,gBACI,UAAY,CACf,AAED,kBACI,oBAAuB,AACvB,qBAAsB,AACtB,UAAW,CAEd,AACD,oBACI,qBAAsB,AACtB,YAAY,AACZ,UAAU,AACV,iBAAiB,AACjB,kBAAoB,CACvB,AACD,uBACI,eAAe,AAEf,qBAAqB,AACrB,gBAAkB,CACrB,AACD,wBACI,WAAa,CAChB,AAED,uBACA,iBAAkB,AACf,YAAY,AACZ,+BAAgC,CAClC,AACD,2CACI,eAAe,AACf,eAAkB,CACrB,AAID,+BACI,gBAAiB,AACjB,YAAa,AACb,aAAe,CAClB,AACD,gBACI,UAAW,CACd,AACD,oBACI,YAAa,AACb,WAAa,CAChB,AAGD,4BACI,WAAW,AACX,YAAa,AACb,iBAAmB,CACtB,AACD,qBAAqB,gBAAgB,WAAW,iBAAiB,CAChE,AACD,wBAAwB,yBAA2B,WAAW,kBAAkB,qBAAqB,cAAc,CAClH,AACD,oCAAoC,mBAAqB,WAAW,kBAAkB,CACrF,AACD,mCAAmC,mBAAqB,UAAU,CACjE,AACD,kBACI,2BAA4B,AAC5B,2BAA4B,AAC5B,iBAAmB,CACtB,AACD,iDAAsD,iCAAmB,CACxE,AACD,6EAA6E,cAAc,iCAAmB,CAC7G,AACD,wEAAwE,cAAc,iCAAmB,CACxG,AACD,+DAA+D,cAAc,iCAAmB,CAC/F,AACD,uDAAuD,cAAc,iCAAkB,CACtF,AACD,kDAAkD,aAAc,CAC/D,AACD,yCAAyC,cAAc,iCAAmB,CACzE",file:"addschool.vue",sourcesContent:['\n#addschool{\n    padding: 0 20px 50px 20px;\n}\n  /*顶部保存*/\n#addschool .btns {\n    border-bottom: 1px solid #ECEDEF;\n    padding-bottom: 10px;\n    padding-top:10px;\n    height: 30px;\n    line-height: 30px;\n}\n#addschool .btns a {\n    font-size: 14px;\n    color: #666;\n    line-height: 30px;\n}\n.icon-back:before{\n    position: relative;\n    top:1px;\n}\n#addschool .icon-conserve:before{\n    margin-right: 3px;\n}\n#addschool .el-button{\n    padding: 8px 20px;\n}\n\n  /*表格边框问题*/\n.el-table table{\n    width: 100%;\n}\n  /*标题样式*/\n#addschool  .title{\n    padding: 20px 0 18px 0;\n    display: inline-block;\n    width:100%;\n    /* border-bottom: 1px solid #e9edf1;*/\n}\n#addschool  .title i{\n    display: inline-block;\n    height:16px;\n    width:3px;\n    margin-right:7px;\n    background:#0d9ee9 ;\n}\n#addschool .title span{\n    font-size:14px;\n   /* color: #0d9ee9;*/\n    display:inline-block;\n    line-height: 12px;\n}\n#addschool .tabs-header{\n    float: right;\n}\n  /*保存*/\n#addschool .submitForm{\ntext-align: right;\n   height:50px;\n   border-bottom:1px solid #e9edf1;\n}\n#addschool .submitForm .el-button--primary{\n    margin-top:8px;\n    margin-bottom:0px;\n}\n\n\n  /*省市区*/\n#addschool .item-text .address{\n    margin-top: 22px;\n    height: 40px;\n    display: block;\n}\n.el-input__icon{\n    right:13px;\n}\n.el-textarea__inner {\n    height: 60px;\n    width: 600px;\n}\n\n/*添加按钮*/\n#addschool .el-button--info{\n    width:40px;\n    float: right;\n    text-align: center;\n}\n#addschool .grads li{list-style:none;float:left;margin-right:10px\n}\n#addschool .grads label{border:1px solid lightblue;width:50px;text-align:center;display:inline-block;cursor:pointer\n}\n#addschool .grads li label.disabled{background:lightgray;color:#000;cursor:not-allowed\n}\n#addschool .grads li label.checked{background:lightblue;color:#fff\n}\n#addschool .blind{\n    clip: rect(1px,1px,1px,1px);\n    clip: rect(1px 1px 1px 1px);\n    position: absolute;\n}\n#addschool a, input, textarea, keygen, select, button{font-family:"微软雅黑";\n}\n#addschool .el-input.is-disabled .el-input__inner::-webkit-input-placeholder{color:#1f2d3d;font-family:"微软雅黑";\n}\n#addschool .el-input.is-disabled .el-input__inner:-ms-input-placeholder{color:#1f2d3d;font-family:"微软雅黑";\n}\n#addschool .el-input.is-disabled .el-input__inner::placeholder{color:#1f2d3d;font-family:"微软雅黑";\n}\n#addschool .el-input__inner::-webkit-input-placeholder{color:#1f2d3d;font-family:"微软雅黑"\n}\n#addschool .el-input__inner:-ms-input-placeholder{color:#1f2d3d;\n}\n#addschool .el-input__inner::placeholder{color:#1f2d3d;font-family:"微软雅黑";\n}\n  /*机构负责人*/\n\n'],sourceRoot:""}])},375:function(e,t,o){var i=o(331);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);o(184)("5f35f58e",i,!0)},439:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"text-align":"left"},attrs:{id:"addschool"}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"},on:{submit:e.submitForm}},[o("div",{staticClass:"btns"},[o("a",{staticClass:" icon-back",attrs:{href:"javascript:;"},on:{click:e.toEduSchoolMgr}},[e._v("返回 ")])]),e._v(" "),o("div",{staticClass:"title"},[o("i"),e._v(" "),o("span",[e._v("基础信息")]),e._v(" "),0==e.isSaveSchool?o("el-button",{staticClass:"white-color add-btn el-button  icon-conserve el-button--primary",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("  保存")]):e._e()],1),e._v(" "),o("el-form-item",{attrs:{label:"校归属地区：",prop:"orgInfo"}},[o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"item-text",staticStyle:{width:"288px"},attrs:{placeholder:e.defaultProvince.name,disabled:e.defaultMaxLevel>=1},on:{change:e.provinceChange},model:{value:e.selectedProvince,callback:function(t){e.selectedProvince=t},expression:"selectedProvince"}},e._l(e.province,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),e._v(" "),0!=e.city.length||""!=e.defaultProvince.id&&null!=e.defaultProvince.id?o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"item-text",attrs:{placeholder:e.defaultCity.name,disabled:e.defaultMaxLevel>=2},on:{change:e.cityChange},model:{value:e.selectedCity,callback:function(t){e.selectedCity=t},expression:"selectedCity"}},e._l(e.city,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e}})})):e._e(),e._v(" "),0!=e.county.length||""!=e.defaultCity.id&&null!=e.defaultCity.id?o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"item-text",attrs:{placeholder:e.defaultCounty.name,disabled:e.defaultMaxLevel>=3},on:{change:e.countyChange},model:{value:e.selectedCounty,callback:function(t){e.selectedCounty=t},expression:"selectedCounty"}},e._l(e.county,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e}})})):e._e(),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.orgNameStr))])],1),e._v(" "),o("el-form-item",{attrs:{label:"学校名称：",prop:"name"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticStyle:{width:"288px"},attrs:{maxlength:30},model:{value:e.ruleForm.name,callback:function(t){e.ruleForm.name="string"==typeof t?t.trim():t},expression:"ruleForm.name"}}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.ruleForm.name))])],1),e._v(" "),o("el-form-item",{attrs:{label:"学校类型：",prop:"schoolType"}},[o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticStyle:{width:"288px"},attrs:{name:"schoolType",id:"ruleForm.schoolType"},on:{change:e.changeSchoolType},model:{value:e.ruleForm.schoolType,callback:function(t){e.ruleForm.schoolType=t},expression:"ruleForm.schoolType"}},[o("el-option",{attrs:{label:"请选择",value:""}},[e._v("请选择")]),e._v(" "),o("el-option",{attrs:{label:"高中",value:"2"}},[e._v("高中")]),e._v(" "),o("el-option",{attrs:{label:"初中",value:"3"}},[e._v("初中")]),e._v(" "),o("el-option",{attrs:{label:"完中",value:"4"}},[e._v("完中")]),e._v(" "),o("el-option",{attrs:{label:"九年一贯制",value:"5"}},[e._v("九年一贯制")]),e._v(" "),o("el-option",{attrs:{label:"小学",value:"6"}},[e._v("小学")]),e._v(" "),o("el-option",{attrs:{label:"完小",value:"8"}},[e._v("完小")]),e._v(" "),o("el-option",{attrs:{label:"职业高中(职高)",value:"9"}},[e._v("职业高中(职高)")]),e._v(" "),o("el-option",{attrs:{label:"中等专业学校(中专)",value:"10"}},[e._v("中等专业学校(中专)")])],1),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.convertSchoolType(e.ruleForm.schoolType)))])],1),e._v(" "),o("el-form-item",{attrs:{label:"学制：",prop:"codeVal"}},[o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticStyle:{width:"288px"},attrs:{name:"codeVal",id:"codeVal",disabled:""===e.ruleForm.schoolType||e.ruleForm.schoolType>8||2==e.ruleForm.schoolType},on:{change:e.changeSchooling},model:{value:e.codeVal,callback:function(t){e.codeVal=t},expression:"codeVal"}},[o("el-option",{attrs:{value:""}},[e._v("请选择")]),e._v(" "),o("el-option",{attrs:{label:"六三制",value:"1"}},[e._v("六三制")]),e._v(" "),o("el-option",{attrs:{label:"五四制",value:"2"}},[e._v("五四制")])],1),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.convertCodeType(e.ruleForm.codeType)))])],1),e._v(" "),o("el-form-item",{staticClass:"region",attrs:{label:"教学范围",prop:"region"}},[o("ul",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"grads"},e._l(e.grads,function(t,i){return o("li",{directives:[{name:"show",rawName:"v-show",value:!0===t.display,expression:"grad['display'] === true"}]},[o("label",{class:{disabled:t.disabled,checked:t.checked},attrs:{for:"grad"+i}},[e._v(e._s(t.name))]),e._v(" "),o("input",{staticClass:"blind",attrs:{type:"checkbox",id:"grad"+i,name:"grad[]",disabled:t.disabled},domProps:{checked:t.checked},on:{change:function(t){e.changeGrad(i,t)}}})])})),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.convertGrads(e.grads)))])]),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],attrs:{label:"地理位置：",prop:"position"}},[o("el-select",{staticStyle:{width:"288px"},attrs:{placeholder:"请选择地理位置"},model:{value:e.ruleForm.position,callback:function(t){e.ruleForm.position=t},expression:"ruleForm.position"}},[o("el-option",{attrs:{label:"中学城区",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"城乡结合",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"近郊",value:"3"}}),e._v(" "),o("el-option",{attrs:{label:"远郊",value:"4"}}),e._v(" "),o("el-option",{attrs:{label:"山区",value:"5"}})],1),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.convertPosition(e.ruleForm.position)))])],1),e._v(" "),o("el-form-item",{attrs:{label:"所在地址：",prop:"address"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"address",attrs:{type:"textarea",placeholder:"请输入详细地址",maxlength:50},model:{value:e.ruleForm.address,callback:function(t){e.ruleForm.address="string"==typeof t?t.trim():t},expression:"ruleForm.address"}}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s((e.selectedCounty.name||"")+(e.selectedCity.name||"")+(e.selectedProvince.name||"")+e.ruleForm.address))])],1),e._v(" "),o("el-form-item",{attrs:{label:"描述：",prop:"describe"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],attrs:{type:"textarea",maxlength:200},model:{value:e.ruleForm.describe,callback:function(t){e.ruleForm.describe="string"==typeof t?t.trim():t},expression:"ruleForm.describe"}}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.ruleForm.describe))])],1)],1),e._v(" "),o("div",{attrs:{id:"userListDiv"}},[e.isAdd?o("div",{staticStyle:{height:"50px","border-bottom":"1px solid #e9edf1","margin-bottom":"20px"}},[e._m(0),e._v(" "),o("div",{staticClass:"tabs-header space-between"},[o("el-button",{attrs:{type:"success",icon:"plus"},on:{click:e.addOrgUser}},[e._v("新建人员")])],1)]):e._e(),e._v(" "),e.isAdd?o("div",{staticClass:"tabs-body"},[o("el-table",{attrs:{data:e.orgUsers,border:"","tooltip-effect":"dark"},on:{"cell-click":e.getOrgUserCurrentInfo,"selection-change":e.orgUsersSelectionChange}},[o("el-table-column",{attrs:{prop:"name",label:"姓名",width:"170"}}),e._v(" "),o("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号",width:"200"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",width:"320"},scopedSlots:e._u([["default",function(t){return[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){e.orgUsersEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(o){e.orgUsersDelete(t.$index,t.row)}}},[e._v("删除")])]}]])})],1),e._v(" "),o("div",{staticClass:"pagination text-right"}),e._v(" "),o("el-dialog",{attrs:{title:"新建人员信息","close-on-click-modal":!1,size:"tiny"},model:{value:e.dialogVisibleAdd,callback:function(t){e.dialogVisibleAdd=t},expression:"dialogVisibleAdd"}},[o("el-form",{ref:"orgUserFormAdd",attrs:{model:e.orgUserFormAdd,rules:e.orgUserAddRules,"label-width":"90px"}},[o("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[o("el-input",{attrs:{maxlength:40,minlength:2},model:{value:e.orgUserFormAdd.name,callback:function(t){e.orgUserFormAdd.name="string"==typeof t?t.trim():t},expression:"orgUserFormAdd.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[o("el-input",{attrs:{maxlength:11},model:{value:e.orgUserFormAdd.phone,callback:function(t){e.orgUserFormAdd.phone="string"==typeof t?t.trim():t},expression:"orgUserFormAdd.phone"}})],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisibleAdd=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"success"},on:{click:function(t){e.orgUserFormAddData()}}},[e._v("添 加")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"编辑人员信息","close-on-click-modal":!1,size:"tiny"},model:{value:e.dialogVisibleEdit,callback:function(t){e.dialogVisibleEdit=t},expression:"dialogVisibleEdit"}},[o("el-form",{ref:"orgUserFormEdit",attrs:{model:e.orgUserFormEdit,rules:e.orgUserAddRules,"label-width":"90px"}},[o("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[o("el-input",{model:{value:e.orgUserFormEdit.name,callback:function(t){e.orgUserFormEdit.name="string"==typeof t?t.trim():t},expression:"orgUserFormEdit.name"}})],1),e._v(" "),4!=e.userInfo.roleId?o("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[o("el-input",{model:{value:e.orgUserFormEdit.phone,callback:function(t){e.orgUserFormEdit.phone="string"==typeof t?t.trim():t},expression:"orgUserFormEdit.phone"}})],1):e._e()],1),e._v(" "),o("span",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisibleEdit=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"success"},on:{click:function(t){e.orgUserFormEditData()}}},[e._v("保 存")])],1)],1)],1):e._e()])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"title"},[o("i"),e._v(" "),o("span",[e._v("负责人信息")])])}]}}});
//# sourceMappingURL=5.57ab492a3ab89df06179.js.map